# =============================================================================
# Storm Cloud Server - Deployment Configuration
# =============================================================================
#
# Copy this file to config.yml and edit with your values:
#   cp config.example.yml config.yml
#   micro config.yml
#
# Then deploy with:
#   make deploy
#
# =============================================================================

# === REQUIRED - You must fill these in ===

# Your VPS IP address (from your hosting provider)
server_ip: ""

# Your domain name (must point to server_ip via DNS A record)
domain: ""

# Email for SSL certificate notifications (Let's Encrypt)
admin_email: ""


# === OPTIONAL - Sensible defaults, change if needed ===

# SSH user for initial connection (usually root for fresh VPS)
ssh_user: root

# Application user (created on server, runs Docker containers)
app_user: stormcloud

# Internal port for Django (nginx proxies to this)
web_port: 8000

# Git branch to deploy
git_branch: main


# === FEATURES - Toggle what gets installed ===

install_docker: true
install_nginx: true
install_certbot: true
configure_firewall: true


# === POSTGRES - Database configuration ===

# REQUIRED: Strong password for PostgreSQL database
# This password is used to secure your database. Choose a strong, unique password.
# You'll need this password for:
#   - Database backups and restores
#   - Direct database access (psql, pgAdmin, etc.)
#   - External tools that connect to the database
#
# Example: postgres_password: "MySecureP@ssw0rd!2024"
postgres_password: ""  # REQUIRED - Set a strong password


# === CORS - Cross-Origin Resource Sharing ===
#
# CORS allows web browsers to make requests from your frontend application
# (e.g., React, Vue, Angular) running on a different origin to your API.
#
# Example scenarios:
#   - Frontend at https://app.example.com, API at https://api.example.com
#   - Frontend at http://localhost:3000 (dev), API at https://cloud.example.com
#
# Format: Comma-separated list of full URLs (including protocol)
#   - Must include protocol: http:// or https://
#   - Must include port if non-standard: http://localhost:3000
#   - No trailing slashes
#
# Examples:
#   cors_origins: "https://app.example.com,https://dashboard.example.com"
#   cors_origins: "http://localhost:3000,http://localhost:3001"
#   cors_origins: "https://app.example.com,http://localhost:3000"  # Mixed dev/prod
#
# Security notes:
#   - Only include origins you trust (your own frontend domains)
#   - Never use wildcards (*) in production
#   - Leave empty to disable CORS (most secure, but frontend won't work)
#
cors_origins: ""  # Comma-separated list, e.g., "https://app.example.com,https://dashboard.example.com"


# === ADVANCED - Usually don't need to change ===

# Repository URL (change if you forked the project)
repo_url: https://github.com/smattymatty/storm-cloud-server.git

# Where to install on the server
install_dir: /home/{{ app_user }}/storm-cloud-server