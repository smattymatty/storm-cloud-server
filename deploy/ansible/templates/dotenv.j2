# =============================================================================
# Storm Cloud Server - Production Environment
# Generated by Ansible: {{ ansible_date_time.iso8601 }}
# Do not edit directly - managed by deployment
# =============================================================================

# Django Settings
SECRET_KEY={{ secret_key }}
DEBUG=False
ALLOWED_HOSTS={{ domain }},localhost,127.0.0.1

# Docker Compose
COMPOSE_PROJECT_NAME=stormcloud
WEB_PORT={{ web_port }}

# PostgreSQL
POSTGRES_DB=stormcloud
POSTGRES_USER=stormcloud
POSTGRES_HOST=db
POSTGRES_PASSWORD={{ db_password }}

# Email (console backend for now - configure SMTP later)
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
DEFAULT_FROM_EMAIL=noreply@{{ domain }}

# Security (production settings)
SECURE_HSTS_SECONDS=31536000
SESSION_COOKIE_SECURE=True
CSRF_COOKIE_SECURE=True
SECURE_SSL_REDIRECT=False  # nginx handles this

# CORS - Cross-Origin Resource Sharing
# Comma-separated list of allowed origins (e.g., "https://app.example.com,https://dashboard.example.com")
# Leave empty to disable CORS (most secure, but frontend won't work)
STORMCLOUD_CORS_ORIGINS={{ cors_origins | default('') }}

# File Upload Limits (P0-3 Security Fix)
# Maximum file size in MB (set in deploy/config.yml)
STORMCLOUD_MAX_UPLOAD_SIZE_MB={{ max_upload_size_mb | default('100') }}

# GoToSocial (optional Fediverse server)
GOTOSOCIAL_DOMAIN={{ gotosocial_domain | default('') }}
